#!/bin/bash

# å¼€å‘ç¯å¢ƒå¯åŠ¨è„šæœ¬
echo "ğŸš€ å¯åŠ¨å¼€å‘ç¯å¢ƒ..."

# 1. æ„å»ºé¡¹ç›®
echo "ğŸ“¦ æ„å»ºé¡¹ç›®..."
npm run build

# æ£€æŸ¥æ„å»ºæ˜¯å¦æˆåŠŸ
if [ $? -ne 0 ]; then
    echo "âŒ æ„å»ºå¤±è´¥ï¼Œè¯·æ£€æŸ¥é”™è¯¯ä¿¡æ¯"
    exit 1
fi

# 2. å¤åˆ¶é™æ€æ–‡ä»¶åˆ° dist
echo "ğŸ“ å¤åˆ¶é™æ€æ–‡ä»¶..."
cp -r views dist/
cp -r public dist/

# 3. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
echo "ğŸ”¥ å¯åŠ¨å¼€å‘æœåŠ¡å™¨..."
npm run start:dev